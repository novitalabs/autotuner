> Redesign project logo inspired by Novita.ai favicon

<details>
<summary>Created new logo and favicon based on Novita.ai style</summary>

**Logo Redesign:**
- Used puppeteer (via MCP ssh-bridge) to inspect novita.ai and extract favicon design
- Redesigned Logo.tsx with geometric "A" shape (upward triangle) representing optimization
- Added three horizontal tuning bars with graduated opacity to represent iterative tuning process
- Primary color: #3ECF8E (Novita green)

**Files modified:**
- `frontend/src/components/Logo.tsx` - New SVG logo component
- `frontend/public/favicon.svg` - Updated to match new logo
- `README.md` - Added centered logo display

**Style Alignment:**
- Added Google Fonts Inter import to `index.html`
- Updated `tailwind.config.js` with fontFamily and primary color palette
- Updated `app.css` with Novita-style primary colors (#3ECF8E)
- Changed button/control styles from blue to emerald green theme

</details>

---

> Enhance the TaskResults.tsx component with metric selection, experiment pinning, and multi-experiment scatter plot comparison

<details>
<summary>Enhanced TaskResults.tsx with advanced visualization and interaction features</summary>

**Experiment Metrics Bar Chart:**
- Added metric selection dropdown to dynamically display different metrics (objective_score, mean_total_throughput, etc.)
- Implemented click-to-pin functionality for individual experiments
- Color-coded bars: Green (best experiment), Purple (pinned experiment), Blue (normal)
- Experiment labels show â­ for best and ğŸ“Œ for pinned indicators
- Metric dropdown limited to max-width of 160px for UI consistency

**Performance Metrics - Sub-Rounds Scatter Chart:**
- Refactored to simultaneously display data from three experiments:
  - Best experiment (green dots) - automatically highlighted
  - Hovered experiment (blue dots) - dynamically switches when hovering bar chart
  - Pinned experiment (purple dots) - user-selected via click-to-pin
- Added pinnedExperimentData useMemo hook for efficient data management
- Updated legend to show all active experiments with round counts
- Implemented unpin button (Ã—) to clear pinned experiment selection
- Enhanced tooltip to identify which experiment each point belongs to

**UI Refinements:**
- Changed default chart metric from objective_score to mean_total_throughput for better visibility
- Commented out View Mode Tabs section (can be re-enabled if needed)
- Improved dropdown sizing and visual consistency

File modified: `frontend/src/components/TaskResults.tsx`

</details>

---

> Add Markdown rendering for agent output with support for tables, code blocks, and copy functionality. Also rename the project from "Inference Autotuner" to "Autotuner".

<details>
<summary>Implemented Markdown rendering and project renaming</summary>

**Markdown Rendering Component:**
- Installed `react-markdown` and `remark-gfm` packages for full markdown support
- Created `StreamingMarkdown.tsx` component with paragraph-aware streaming
- Preserves tables and code blocks as atomic units (no mid-element streaming)
- Supports GitHub Flavored Markdown: tables, strikethrough, task lists, etc.

**Markdown Styling:**
- Added Tailwind typography plugin for semantic markdown elements
- Applied consistent margins to paragraphs, headings (h1-h4), and lists
- Styled tables with borders, padding, and hover effects
- Code blocks with dark theme and monospace font

**Table and Code Block Headers:**
- Added header bars displaying "Table" and language labels
- Copy button on each header copies original markdown source (not rendered HTML)
- Implemented React Context to pass unrendered markdown to custom components
- Prevents copying corrupted HTML representations

**Copy Button for Assistant Messages:**
- Added copy icon button at bottom of every assistant message
- Appears on hover, copies full message content
- Shows "Copied" confirmation state with brief visual feedback

**Project Renaming (Inference Autotuner â†’ Autotuner):**
- Updated `frontend/public/index.html` title tag
- Updated `frontend/src/components/Layout.tsx` sidebar branding
- Updated `README.md` and all markdown documentation
- Updated `CLAUDE.md` architecture documentation
- Updated `ROADMAP.md` overview and task descriptions
- Renaming applied consistently across frontend and backend references

Files modified: `frontend/package.json`, `frontend/package-lock.json`, `frontend/src/components/StreamingMarkdown.tsx` (new), `frontend/src/components/IterationBlock.tsx`, `frontend/tailwind.config.js`, `README.md`, `CLAUDE.md`, `ROADMAP.md`

</details>

---

# ğŸ‰ MILESTONE 5: Agent System & Local Deployment Mode

> **Date**: 2025-12-22
> **Status**: âœ… Complete

## Summary

Milestone 5 introduces the **Agent System** - an LLM-powered conversational interface that enables natural language interaction with the Autotuner. Users can now create tasks, monitor experiments, manage workers, and access external services through conversation. This milestone also adds Local Deployment Mode for faster development iteration.

## Key Accomplishments

### 5.1 Agent Chat Interface âœ…

**Conversational UI** (`frontend/src/pages/Agent.tsx`)
- Full-featured chat interface with streaming markdown responses
- Session management with persistent conversation history
- Editable session titles with auto-generation from first message
- IndexedDB-based message storage with backend sync
- Server-Sent Events (SSE) for real-time streaming responses

**Streaming Markdown Component** (`frontend/src/components/StreamingMarkdown.tsx`)
- Paragraph-aware streaming that preserves atomic elements
- GitHub Flavored Markdown support (tables, code blocks, task lists)
- Copy buttons for code blocks and tables (copies source, not rendered HTML)
- Tailwind typography styling for consistent appearance

### 5.2 Tool Execution Framework âœ…

**Authorization System** (`src/web/schemas/agent.py`)
- `AuthorizationScope` enum: `none`, `privileged`, `dangerous`
- Privileged tools require user approval before execution
- Auto-execute pending tools after authorization granted
- Clear visual indicators for tool status in chat UI

**Tool Categories Implemented:**

| Category | Tools | Authorization |
|----------|-------|---------------|
| Task Management | `create_task`, `start_task`, `get_task_status`, `get_task_logs` | None |
| Worker Control | `restart_arq_worker` | Privileged |
| System Utilities | `sleep`, `get_current_time` | None |
| GitHub Integration | `search_github_issues`, `create_github_issue`, `comment_github_issue` | None |
| HuggingFace CLI | `hf_cache_scan`, `hf_download`, `hf_repo_info` | None |
| Experiment Analysis | `get_experiment_logs` | None |

### 5.3 Agent Backend Architecture âœ…

**API Endpoints** (`src/web/routes/agent.py`)
- `POST /api/agent/chat` - SSE streaming chat endpoint
- `GET /api/agent/sessions` - List all sessions
- `POST /api/agent/sessions` - Create new session
- `PUT /api/agent/sessions/{id}` - Update session title
- `DELETE /api/agent/sessions/{id}` - Delete session
- `GET /api/agent/sessions/{id}/messages` - Get session messages

**LLM Integration:**
- LangChain framework for flexible model support
- Support for Claude (Anthropic) and open-source models
- Max iterations increased from 10 to 100 for complex tasks
- Automatic tool result handling for multi-step operations

### 5.4 Local Deployment Mode âœ…

**New Controller**: `LocalController` (`src/controllers/local_controller.py`)
- Subprocess-based model execution without Docker/K8s
- Direct vLLM/SGLang server launch via `python -m` commands
- Automatic port allocation (30000-30100 range)
- Process lifecycle management with graceful shutdown
- Log capture and streaming to task log files

**Runtime Support:**
- vLLM local environment: `.venv-vllm/` with CUDA 12
- SGLang local environment: `.venv-sglang/` (SM86 limitation)
- Automatic environment detection and activation

### 5.5 Dataset URL Support âœ…

**Custom Dataset Fetching** (`src/controllers/dataset_controller.py`)
- Remote URL dataset loading (CSV, JSONL, compressed archives)
- Automatic format detection and conversion
- URL-hash based caching in `~/.local/share/inference-autotuner/datasets/`
- Deduplication option for prompt datasets
- genai-bench submodule updated to fork with URL support

### 5.6 Additional Improvements âœ…

- **HuggingFace Offline Mode**: Fixed cache path handling for air-gapped environments
- **GitHub Issue #3 Fix**: Resolved `analyze_slo_violations()` AttributeError
- **Foldable Experiments List**: Collapsible UI for large experiment sets
- **Comprehensive Parameter Presets**: Runtime-specific vLLM and SGLang presets

## Architecture

```
Agent System Architecture:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Agent Chat  â”‚  â”‚ SSE Streamingâ”‚  â”‚ IndexedDB  â”‚ â”‚
â”‚  â”‚    Page     â”‚â†â†’â”‚   Handler    â”‚â†â†’â”‚  Storage   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ SSE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Backend                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Agent Route â”‚â†’ â”‚  LangChain   â”‚â†’ â”‚   Tools    â”‚ â”‚
â”‚  â”‚   (SSE)     â”‚  â”‚   Executor   â”‚  â”‚ (12 total) â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   SQLite    â”‚  â”‚    Redis     â”‚  â”‚ External   â”‚ â”‚
â”‚  â”‚  Sessions   â”‚  â”‚  (ARQ Queue) â”‚  â”‚  Services  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Deployment Modes:
â”œâ”€â”€ Docker Mode (DockerController) - Container-based
â”œâ”€â”€ OME Mode (OMEController) - Kubernetes InferenceService
â””â”€â”€ Local Mode (LocalController) - Direct subprocess
```

## Files Modified

| Component | Key Files |
|-----------|-----------|
| Agent Frontend | `Agent.tsx`, `StreamingMarkdown.tsx`, `AgentMessage.tsx` |
| Agent Backend | `routes/agent.py`, `schemas/agent.py`, `services/agent_service.py` |
| Tools | `tools/task_tools.py`, `tools/worker_tools.py`, `tools/github_tools.py`, `tools/hf_tools.py` |
| Local Mode | `controllers/local_controller.py`, `workers/autotuner_worker.py` |
| Dataset | `controllers/dataset_controller.py` |
| Presets | `db/seed_presets.py` |

## Development Timeline

| Date | Feature |
|------|---------|
| 2025-12-04 | Agent framework research, LangChain recommendation |
| 2025-12-05 | Session title generation, chat UI improvements |
| 2025-12-09 | Tool calling bug fixes, message ordering |
| 2025-12-10 | Authorization system, worker/GitHub/HF tools |
| 2025-12-11 | Dataset URL support, HF offline mode fix |
| 2025-12-12 | Local controller implementation |
| 2025-12-14 | GitHub Issue #3 fix |
| 2025-12-16 | vLLM runtime support, port allocation fix |
| 2025-12-19 | Foldable experiments list |
| 2025-12-22 | Markdown rendering, parameter presets, milestone completion |

## Known Limitations

1. **SGLang SM86**: Pre-built sgl_kernel wheels require SM90/100 (RTX 40-series)
2. **Agent Context**: Long conversations may exceed context window
3. **Tool Parallelism**: Tools execute sequentially within a single turn

## Next Steps

- [ ] WebSocket upgrade for bidirectional agent communication
- [ ] Multi-agent collaboration for complex workflows
- [ ] Tool result caching for repeated queries
- [ ] Build sgl_kernel from source for SM86 support
